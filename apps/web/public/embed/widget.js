(()=>{"use strict";!function(){const n=document.getElementsByTagName("script"),e=n[n.length-1],t=e.getAttribute("data-business");if(!t)return void console.error("Wine Club Widget: data-business attribute is required");const o=e.src,i=o?new URL(o).origin:window.location.origin;function r(){var n;const o="wine-club-widget";let r=document.getElementById(o);r||(r=document.createElement("div"),r.id=o,null===(n=e.parentNode)||void 0===n||n.insertBefore(r,e.nextSibling));const c=document.createElement("button");c.textContent="Join Wine Club",c.style.cssText="\n      background-color: #8b5cf6;\n      color: white;\n      padding: 12px 24px;\n      border: none;\n      border-radius: 8px;\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      transition: background-color 0.2s;\n    ",c.onmouseover=()=>{c.style.backgroundColor="#7c3aed"},c.onmouseout=()=>{c.style.backgroundColor="#8b5cf6"},c.onclick=()=>{!function(){const n=document.createElement("div");n.id="wine-club-overlay",n.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.5);\n      z-index: 9998;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    ";const e=document.createElement("div");e.style.cssText="\n      position: relative;\n      width: 90%;\n      max-width: 900px;\n      height: 80vh;\n      background-color: white;\n      border-radius: 12px;\n      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);\n      z-index: 9999;\n      display: flex;\n      flex-direction: column;\n    ";const o=document.createElement("button");o.textContent="Ã—",o.style.cssText="\n      position: absolute;\n      top: 16px;\n      right: 16px;\n      background: none;\n      border: none;\n      font-size: 32px;\n      cursor: pointer;\n      color: #666;\n      z-index: 10000;\n      width: 40px;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 50%;\n      transition: background-color 0.2s;\n    ",o.onmouseover=()=>{o.style.backgroundColor="#f3f4f6"},o.onmouseout=()=>{o.style.backgroundColor="transparent"},o.onclick=()=>{d()};const r=document.createElement("iframe");r.src=`${i}/${t}`,r.style.cssText="\n      width: 100%;\n      height: 100%;\n      border: none;\n      border-radius: 12px;\n    ",e.appendChild(o),e.appendChild(r),n.appendChild(e),n.onclick=e=>{e.target===n&&d()},document.body.appendChild(n),document.body.style.overflow="hidden"}()},r.appendChild(c)}function d(){const n=document.getElementById("wine-club-overlay");n&&(n.remove(),document.body.style.overflow="")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r()}()})();